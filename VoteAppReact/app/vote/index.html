<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Vote App</title>
   
    <script>  
	function setCookie(cname, cvalue, exdays) {
	  var d = new Date();
	  d.setTime(d.getTime() + (exdays * 24 * 60 * 60 * 1000));
	  var expires = "expires="+d.toUTCString();
	  document.cookie = cname + "=" + cvalue + ";" + expires + ";path=/";
	}

	function getCookie(cname) {
	  var name = cname + "=";
	  var ca = document.cookie.split(';');
	  for(var i = 0; i < ca.length; i++) {
	    var c = ca[i];
	    while (c.charAt(0) == ' ') {
	      c = c.substring(1);
	    }
	    if (c.indexOf(name) == 0) {
	      return c.substring(name.length, c.length);
	    }
	  }
	  return "";
	}

        function S4() {
	    return (((1+Math.random())*0x10000)|0).toString(16).substring(1); 
	}

        function checkCookie() {
	  var voter = getCookie("voterid");
	  if(voter != "")
	  {
	     //alert(voter);
          }
	  if (voter == "") {
             guid = (S4() + S4() + "-" + S4() + "-4" + S4().substr(0,3) + "-" + S4() + "-" + S4() + S4() + S4()).toLowerCase();
	     voter = guid;
	     setCookie("voterid", voter, 1);
	  }
	}
    </script>
  </head>

  <body onload="checkCookie()">
    <h1>Cast your Vote!</h1>
    <div id="container"></div>
    
    <script src="../../lib/react.js"></script>
    <script src="../../lib/react-dom.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.24/browser.min.js"></script>
    <script type="text/babel" src="callapi.jsx"></script>

  </body>
</html>
